@page "/AdminOperadores/Operadores/VisualizarOperadores"
@model LayoutTemplateWebApp.Pages.PagesAdmOperador.vtn_adm_visualizar_operadoresModel
@{
}
@if (TempData["ErrorMessage"] != null)
{
    <script>
        alert("@TempData["ErrorMessage"]");
    </script>
}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        function handleButtonClick(event) {
            // Check if the key pressed is the "Enter" key (key code 13)
            if (event.keyCode === 13) {
                event.target.click(); // Trigger the click event
            }
        }

        const agregarOperador = document.getElementById("btnAgregarOperador");
        agregarOperador.addEventListener("click", function () {
            window.location.assign("/AdminOperadores/Operadores/AgregarOperador");
        });
        agregarOperador.addEventListener("keypress", handleButtonClick);

        const verHorariosOperadores = document.getElementById("btnVerHorariosOperadores");
        verHorariosOperadores.addEventListener("click", function () {
            window.location.assign("/AdminOperadores/Operadores/VerHorariosOperadores");
        });
        verHorariosOperadores.addEventListener("keypress", handleButtonClick);

        const asignarSustitucion = document.getElementById("btnAsignarSustitucion");
        asignarSustitucion.addEventListener("click", function () {
            window.location.assign("/AdminOperadores/Operadores/AsignarSustitucion");
        });
        asignarSustitucion.addEventListener("keypress", handleButtonClick);

        const asignarHorario = document.getElementById("btnAsignarHorario");
        asignarHorario.addEventListener("click", function () {
            window.location.assign("/AdminOperadores/Operadores/AsignarHorario");
        });
        asignarHorario.addEventListener("keypress", handleButtonClick);

        const visualizarOperadores = document.getElementById("btnVisualizarOperadores");
        visualizarOperadores.addEventListener("click", function () {
            window.location.assign("/AdminOperadores/Operadores/VisualizarOperadores");
        });
        visualizarOperadores.addEventListener("keypress", handleButtonClick);

        const cancelar = document.getElementById("btnCancelar");
        cancelar.addEventListener("click", function () {
            window.location.assign("/admOperadores-Operadores")
        })
    });
</script>

<style>
    .all-container{
        height:auto;
    }
    .xy-center{
        padding-top: 30px;
        height:auto;
    }
    .main-info-container{
        height: auto;
    }
    .grid-container{
        display: grid;
        grid-template-columns: 160px 320px 220px 280px;*/
    }
    .grid-item{
        border: 1px solid var(--color-font-sidebar);
        padding: 10px;
        font-family: Roboto;
        font-size: var(--font-size-sidebar-li);
    }
    .main-button{
        min-width: 70%;
    }
</style>

<div class="all-container">
    <div class="sidebar-container">
        <ul>
            <li id="btnAgregarOperador" tabindex="10">Agregar Operador</li>
            <li id="btnAsignarHorario" tabindex="11">Asignar Horario</li>
            <li id="btnVerHorariosOperadores" tabindex="12">Visualizar Horarios Operadores</li>
            <li id="btnAsignarSustitucion" tabindex="13">Asignar Sustitución</li>
            <li id="btnVisualizarOperadores" tabindex="14">Visualizar Operadores</li>
        </ul>
    </div>
    <div class="xy-center">
        <div class="main-info-container">
            <button class="close-button" id="btnCancelar" tabindex="16" aria-label="Volver a pestaña de administración de operadores">X</button>

            <h1 tabindex="15">Visualizar operadores</h1>

            <div class="grid-container">
                <div class="grid-item" tabindex="17">Id del operador</div>
                <div class="grid-item" tabindex="18">Email del operador</div>
                <div class="grid-item" tabindex="19">Teléfono del operador</div>
                <div class="grid-item" tabindex="20">Funcionalidad</div>
            </div>

            @if(Model.Results != null && Model.Results.Any())
                {
                    @foreach (var item in Model.Results)
                    {
                        <div class="grid-container" tabindex="21" aria-label="@item.idOperator @item.email" @item.cellphone>
                            <div class="grid-item">@item.idOperator</div>
                            <div class="grid-item">@item.email</div>
                            <div class="grid-item">@item.cellphone</div>
                            <div class="grid-item" style="display:flex">
                                <form asp-page-handler="EliminarOperador" method="post">
                                    <input type="hidden" name="idOperator" value="@item.idOperator"/>
                                    <button class="main-button" id="btnEliminarOperador" tabindex="21.1">Eliminar</button>
                                </form>
                                <form asp-page-handler="ActualizarOperador" method="post" style="margin-left:35px">
                                    <input type="hidden" name="idOperator" value="@item.idOperator"/>
                                    <button class="main-button" id="btnActualizarOperador" tabindex="21.2">Actualizar</button>
                                </form>
                            </div>
                        </div>
                    }
                }

        </div>
    </div>
</div>